// ================== LOADER ==================
let counter = 0;
const loaderCounter = document.getElementById('loader-counter');
const loader = document.getElementById('loader');

const interval = setInterval(() => {
  counter++;
  loaderCounter.textContent = counter + '%';
  if(counter >= 100){
    clearInterval(interval);
    document.body.classList.add('loaded');
  }
}, 40); // slower counting

// ================== DARK MODE TOGGLE ==================
const toggle = document.getElementById('darkModeToggle');
toggle.addEventListener('change', () => {
  document.body.classList.toggle('dark-mode');
});

// ================== SCROLL TO TOP ==================
const scrollBtn = document.getElementById('scrollTopBtn');
window.onscroll = () => {
  scrollBtn.style.display = window.scrollY > 300 ? 'block' : 'none';
};
scrollBtn.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

// ================== NAVIGATION SMOOTH SCROLL ==================
document.querySelectorAll('nav a').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    document.querySelector(link.getAttribute('href')).scrollIntoView({behavior:'smooth'});
  });
});
